<div style="z-index: 1103">
  <ngx-dhis2-menu></ngx-dhis2-menu>
</div>
<div class="w-100" style="margin-top: 40px; z-index: 1102">
  <p-drawer #drawerRef [(visible)]="visible">
    <ng-template #headless>
      <div class="flex flex-col h-full">
        <div class="d-flex justify-content-left px-6 pt-4 pb-4 shrink-0">
          <img src="assets/icons/logo2.png" style="height: 30px" alt="" />
          <span class="ml-2 text-xl font-semibold">
            <span class="primary">MEL</span>
          </span>
        </div>
        <div class="overflow-y-auto">
          <p-menu
            [model]="menuItems()"
            class="flex justify-center"
            styleClass="w-full md:w-60"
          >
            <ng-template #submenuheader let-item>
              <span class="text-primary font-bold">{{ item.label }}</span>
            </ng-template>
            <ng-template #item let-item>
              <a
                (click)="onChangeRoute($event, item?.routerLink)"
                pRipple
                class="flex items-center p-menu-item-link"
              >
                <span [class]="item.icon"></span>
                <span class="ml-2">{{ item.label }}</span>
                <p-badge
                  *ngIf="item.badge"
                  class="ml-auto"
                  [value]="item.badge"
                />
                <span
                  *ngIf="item.shortcut"
                  class="ml-auto border border-surface rounded bg-emphasis text-muted-color text-xs p-1"
                >
                  {{ item.shortcut }}
                </span>
              </a>
            </ng-template>
          </p-menu>
        </div>
        <div class="mt-auto">
          <hr class="mb-0 border-t border-0 border-surface" />
          <a
            pRipple
            class="mb-5 ml-4 mr-4 flex items-center cursor-pointer p-2 gap-2 rounded-border text-surface-700 dark:text-surface-100 hover:bg-surface-100 dark:hover:bg-surface-700 duration-150 transition-colors p-ripple"
          >
            <!-- <p-avatar
            image="https://primefaces.org/cdn/primeng/images/demo/avatar/amyelsner.png"
            shape="circle"
          /> -->
            <span class="font-bold">{{
              currentUserState.currentUser()?.displayName
            }}</span>
          </a>
        </div>
      </div>
    </ng-template>
  </p-drawer>
  <div
    class="app-routings-container"
    style="z-index: 1200"
    [ngStyle]="{ 'margin-left': visible ? '14rem' : '0' }"
  >
    <p-button
      size="small"
      variant="text"
      severity="secondary"
      pStyleClass="menu-nav-button"
      (click)="visible = !visible"
      icon="pi pi-bars"
    />
    <span>
      {{ currentMenuId() }}
    </span>
    <router-outlet />
  </div>
</div>
